# 🔧 修复 404 问题

## 问题原因

控制台显示 `DEFAULT_QUESTIONS_ui.js` 和 `DEFAULT_QUESTIONS_visual.js` 返回 404，原因是：

1. **vercel.json 配置不完整**：之前的配置只处理了 `index.html`，没有正确处理其他静态文件
2. **文件路径问题**：相对路径在 Vercel 上可能不正确

## 已完成的修复

### 1. 更新了 vercel.json

修改前：
```json
{
  "builds": [
    {
      "src": "index.html",
      "use": "@vercel/static"
    }
  ]
}
```

修改后：
```json
{
  "builds": [
    {
      "src": "**",
      "use": "@vercel/static"
    }
  ],
  "routes": [
    {
      "src": "/(.*\\.(js|css|html|json|png|jpg|jpeg|gif|svg|ico|woff|woff2|ttf|eot))",
      "dest": "/$1"
    },
    {
      "src": "/(.*)",
      "dest": "/index.html"
    }
  ]
}
```

这个配置会：
- 正确处理所有静态文件（JS、CSS、图片等）
- 确保所有文件都能被正确访问

### 2. 修改了文件路径

将：
```html
<script src="DEFAULT_QUESTIONS_ui.js"></script>
```

改为：
```html
<script src="./DEFAULT_QUESTIONS_ui.js"></script>
```

使用 `./` 前缀确保相对路径正确。

## 📤 现在需要做的

### 1. 推送代码

在终端执行：
```bash
git push
```

### 2. 等待 Vercel 重新部署

- 推送后，Vercel 会自动检测并重新部署
- 通常需要 1-2 分钟

### 3. 验证修复

部署完成后：

1. **刷新网站**
2. **按 F12 打开控制台**
3. **检查是否还有 404 错误**：
   - ✅ 如果没有 404，说明修复成功
   - ✅ 应该能看到 "UI题目加载成功，数量: X"（X > 0）
   - ✅ 应该能看到 "Visual题目加载成功，数量: Y"（Y > 0）

4. **检查 Network 标签**：
   - 找到 `DEFAULT_QUESTIONS_ui.js` 和 `DEFAULT_QUESTIONS_visual.js`
   - 状态应该是 **200 OK**（不再是 404）

5. **测试答题功能**：
   - 点击 "UI组" 或 "视觉组"
   - 输入姓名
   - 点击 "开始答题"
   - 应该能看到真实的题目，而不是默认占位题目

## ✅ 预期结果

修复后，你应该能看到：
- ✅ 控制台显示题目加载成功，数量 > 0
- ✅ Network 标签中两个 JS 文件状态为 200
- ✅ 答题时显示真实的题目内容
- ✅ 不再显示 "【示例】这是默认题目"

## 🆘 如果还有问题

如果推送后仍然有问题：

1. **检查 GitHub 仓库**：
   - 访问：https://github.com/yuanhao667/exam-index
   - 确认能看到 `DEFAULT_QUESTIONS_ui.js` 和 `DEFAULT_QUESTIONS_visual.js`

2. **检查 Vercel 部署日志**：
   - 在 Vercel Dashboard 中查看部署日志
   - 检查是否有错误信息

3. **清除浏览器缓存**：
   - 按 Ctrl+Shift+R（Windows）或 Cmd+Shift+R（Mac）强制刷新
   - 或者在开发者工具中右键刷新按钮，选择 "清空缓存并硬性重新加载"

4. **把新的错误信息发给我**，我会继续帮你排查。
